<!-- Barra superior con logo y título -->
<mat-toolbar
  color="primary"
  class="mat-elevation-z4"
  *ngIf="user$ | async as user"
>
  <img
    src="./logoNodalis.png"
    alt="Logo NODALIS"
    style="height: 40px; margin-right: 16px"
    class="animated-logo"
  />
  <span style="font-size: 20px; font-weight: 500">NODALIS</span>
</mat-toolbar>

<!-- Layout principal -->
<mat-sidenav-container class="main-container">
  <!-- Sidebar -->
  <mat-sidenav mode="side" opened class="sidenav" *ngIf="user$ | async as user">
    <mat-toolbar>Navegación</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item routerLink="/dashboard" routerLinkActive="active"
        >Dashboard</a
      >
      <a mat-list-item routerLink="/info" routerLinkActive="active"
        >Información del usuario</a
      >
      <a
        *ngIf="user.role === 'admin'"
        mat-list-item
        routerLink="/users"
        routerLinkActive="active"
        >Usuarios</a
      >
      <a
        *ngIf="user.role === 'admin'"
        mat-list-item
        routerLink="/companies"
        routerLinkActive="active"
        >Empresas</a
      >
      <a
        *ngIf="user.role === 'admin'"
        mat-list-item
        routerLink="/nodes"
        routerLinkActive="active"
        >Nodos</a
      >
      <a
        *ngIf="user.role === 'admin'"
        mat-list-item
        routerLink="/projects"
        routerLinkActive="active"
        >Proyectos</a
      >
      <a
        *ngIf="user.role === 'admin'"
        mat-list-item
        routerLink="/users/create"
        routerLinkActive="active"
        >Crear usuario</a
      >
      <a mat-list-item (click)="logout()">Cerrar sesión</a>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Contenido principal sin mat-card -->
  <mat-sidenav-content>
    <div>
      <ng-container *ngIf="user$ | async as user">
        <p style="margin-bottom: 16px">
          Bienvenido. Aquí encontrará una visión general e información
          importante sobre la aplicación.
        </p>
      </ng-container>

      <app-alert></app-alert>
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
